<Window
    x:Class="PD3AudioModder.UpdateDialog"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Update Available"
    MinWidth="600"
    MinHeight="400"
    Background="{DynamicResource BackgroundColor}"
    Icon="avares://PD3AudioModder/assets/icons/audio.ico"
    SizeToContent="WidthAndHeight"
    WindowStartupLocation="CenterOwner">
    <Border Padding="20" Background="{DynamicResource BackgroundColor}">
        <Grid RowDefinitions="Auto,Auto,Auto,*,Auto,Auto">
            <TextBlock
                Grid.Row="0"
                HorizontalAlignment="Center"
                FontSize="18"
                FontWeight="Bold"
                Foreground="{DynamicResource TextColor}"
                Text="A new update is available!" />
            <TextBlock
                x:Name="CurrentVersionText"
                Grid.Row="1"
                Margin="0,15,0,0"
                HorizontalAlignment="Center"
                FontSize="16"
                Foreground="{DynamicResource TextColor}"
                Text="Current version: {1}" />
            <TextBlock
                x:Name="VersionText"
                Grid.Row="2"
                Margin="0,5,0,15"
                HorizontalAlignment="Center"
                FontSize="16"
                Foreground="{DynamicResource TextColor}"
                Text="New version: {0}" />
            <StackPanel Grid.Row="3">
                <TextBlock
                    x:Name="CommitCount"
                    Margin="0,5,0,10"
                    HorizontalAlignment="Center"
                    FontSize="16"
                    Foreground="{DynamicResource TextColor}"
                    Text="0 commits since last update." />
                <Border
                    MinWidth="400"
                    MinHeight="150"
                    MaxHeight="550"
                    Padding="15"
                    Background="{DynamicResource TertiaryColor}"
                    CornerRadius="5">
                    <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
                        <StackPanel
                            x:Name="CommitsPanel"
                            Margin="0,0,25,0"
                            Spacing="5">
                            <SelectableTextBlock
                                FontSize="14"
                                Foreground="{DynamicResource TextColor}"
                                Text="Loading changes..."
                                TextWrapping="Wrap" />
                        </StackPanel>
                    </ScrollViewer>
                </Border>
            </StackPanel>
            <TextBlock
                Grid.Row="4"
                Margin="0,0,0,0"
                HorizontalAlignment="Center"
                FontSize="16"
                Foreground="{DynamicResource TextColor}"
                Text="Do you want to update now?" />
            <StackPanel
                Grid.Row="5"
                Margin="0,10,0,0"
                HorizontalAlignment="Center"
                Orientation="Horizontal"
                Spacing="15">
                <Button
                    Width="75"
                    Height="40"
                    Padding="10,5"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Background="{DynamicResource ButtonColor}"
                    Click="OnYesClick"
                    Content="Yes"
                    CornerRadius="10"
                    FontSize="16"
                    Foreground="{DynamicResource ButtonTextColor}" />
                <Button
                    Width="75"
                    Height="40"
                    Padding="10,5"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Background="{DynamicResource SecondaryButtonColor}"
                    Click="OnNoClick"
                    Content="No"
                    CornerRadius="10"
                    FontSize="16"
                    Foreground="{DynamicResource SecondaryButtonTextColor}" />
            </StackPanel>
        </Grid>
    </Border>
</Window>